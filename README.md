# Лабораторная работа №5

## Структура проекта

 <pre>
    ├── lab_5
    │   ├── src/                               # Исходный код
    │   ├── tests/                             # Unit-тесты
    │   ├── .gitignore                         # git ignore файл
    │   ├──.pre-commit-config.yaml             # Средства автоматизации проверки кодстайла
    │   ├── README.md                          # Описание проекта
</pre>

## Команды для запуска

*Запуск демонстрации работы алгоритма на базовых примерах (из корня проекта):*
```cd src; python main.py```

*Запуск тестов и проверка покрытия (из корня проекта):*
```pytest```
```pytest --cov=src```

## Исходный код и его логика

В папке [src](./src) лежат файлы с реализацией задачи, заданной в лабораторной работе

В файле [protocols.py](./src/protocols.py) описаны (с помощью *typing.Protocol*) контракты для задач и источников задач

В файле [task_module.py](./src/task_module.py) описана предварительная реализация класса-приемника задач. Методы проверки соответствия объекта протоколам, описанные в этом классе, работают в runtime (т.к. протоколы помечены как *runtime_checkable*) и используют для проверки такие функции как hasattr(), isinstance(), type() и т.д. Отдельная проверка реализована для задач типа dict, т.к. поля словаря не считаются соответствием протоколу. Функции проверки вызываются при добавлении задач/источников задач. Также установлен логгер, отображающий статус выполненных действий в консоль/файл

В файлах [task_examples.py](./src/task_examples.py) и [task_source_examples.py](./src/task_source_examples.py) инициализированы примеры различных задач (DataClass/Class/NamedTuple) и их источников (File/Generator/API), не связанных между собой наследованием

## Тесты и их логика
В папке [tests](./tests) лежат unit-тесты основных модулей
Помимо тестирования задач и источников задач, описанных в файлах [task_examples.py](./src/task_examples.py) и [task_source_examples.py](./src/task_source_examples.py), в тестах используются мок-заглушки, демонстрирующие возможность алгоритма взаимодействовать с любыми новыми видами задач, подходящими под контракт
